-- Table for long-term credentials mechanism authorization:
--
CREATE TABLE turnusers_lt (
    realm varchar(100),
    name varchar(100),
    hmackey char(128),
    PRIMARY KEY (realm,name)
);

-- Table for short-term credentials mechanism authorisation:
--
CREATE TABLE turnusers_st (
    name varchar(255) PRIMARY KEY,
    password varchar(255)
);

-- Table holding shared secrets for secret-based authorization
-- (REST API). It can only be used together with the long-term 
-- mechanism:
--
CREATE TABLE turn_secret (
	realm varchar(100),
    value varchar(100),
	primary key (realm,value)
);

-- Table holding "white" allowed peer IP ranges.
-- to reduce size of primary key I'm changing size of column considered as pk. David Siecinski
CREATE TABLE allowed_peer_ip (
	ip_range varchar(256), 
	primary key (ip_range (100))
);

-- Table holding "black" denied peer IP ranges.
-- to reduce size of primary key I'm changing size of column considered as pk. David Siecinski
CREATE TABLE denied_peer_ip (
	ip_range varchar(256), -- 256
	primary key (ip_range (100))
);

-- Table to match origin to realm.
-- Multiple origins may have the same realm.
-- If no realm is found or the origin is absent
-- then the default realm is used.
--
CREATE TABLE turn_origin_to_realm (
	origin varchar(255),
	realm varchar(51),
	primary key (origin,realm)
);

-- Realm options.
-- Valid options are 'max-bps',
-- 'total-quota' and 'user-quota'.
-- Values for them are integers (in text form).
--
CREATE TABLE turn_realm_option (
	realm varchar(255),
	opt varchar(32),
	value varchar(128),
	primary key (realm,opt)
);

